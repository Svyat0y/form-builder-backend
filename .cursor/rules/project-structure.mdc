---
description: Правила структуры проекта и best practices для NestJS
alwaysApply: true
---

# Правила структуры проекта

## Основные принципы

При разработке необходимо придерживаться структуры проекта согласно best practices для NestJS и используемых технологий.

### Структура модулей

Каждый функциональный модуль должен следовать следующей структуре:

```
module-name/
  ├── module-name.module.ts      # Модуль NestJS
  ├── module-name.controller.ts  # Контроллер (если есть API endpoints)
  ├── module-name.service.ts     # Бизнес-логика
  ├── module-name.entity.ts      # TypeORM entity (если есть)
  ├── dto/                       # DTO для этого модуля (если специфичные)
  ├── decorators/                # Кастомные декораторы (если есть)
  └── guards/                    # Guards (если есть)
```

### Расположение общих компонентов

- **DTO**: Общие DTO размещаются в `src/dto/`, специфичные для модуля - внутри модуля
- **Entities**: Размещаются внутри соответствующего модуля
- **Common компоненты**: Фильтры, пайпы, guards, interceptors - в `src/common/`
- **Config**: Конфигурационные файлы - в `src/config/`
- **Types**: Глобальные типы и расширения - в `src/types/`

### Принципы организации кода

1. **Модульность**: Каждый функциональный блок должен быть отдельным модулем
2. **Разделение ответственности**: Controller → Service → Repository/Entity
3. **DRY**: Избегать дублирования кода, выносить общую логику в сервисы или common компоненты
4. **Именование**: Использовать согласованные имена файлов и классов согласно NestJS conventions
